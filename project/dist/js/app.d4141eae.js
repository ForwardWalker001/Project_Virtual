(function(t){function e(e){for(var s,o,r=e[0],l=e[1],c=e[2],h=0,p=[];h<r.length;h++)o=r[h],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},n={app:0},i=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"064f":function(t,e,a){},"11bb":function(t,e,a){"use strict";a("126d")},"126d":function(t,e,a){},1489:function(t,e,a){"use strict";a("7521")},5549:function(t,e,a){"use strict";a("ab59")},5573:function(t,e,a){"use strict";a("82f4")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{id:"app","element-loading-text":"拼命加载场景中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("router-view")],1)},i=[],o=function(t,e,a){var s={data:e,time:Date.now(),expire:60*a*60*24*1e3};localStorage.setItem(t,JSON.stringify(s))},r=function(t){var e=localStorage.getItem(t);return!!e&&(e=JSON.parse(e),Date.now()-e.time>e.expire?(localStorage.removeItem(t),null):e.data)},l={name:"App",data:function(){return{loading:!1}},computed:{},components:{},created:function(){o("score",0,.5)},mounted:function(){var t=this;this.$EventBus.$on("changLoad",(function(e){t.loading=e}))}},c=l,u=(a("034f"),a("2877")),h=Object(u["a"])(c,n,i,!1,null,null,null),p=h.exports,m=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"member-service-protocol"},[a("div",{staticClass:"menu"},[a("div",{staticClass:"navMenu"},[a("div",{ref:"index",on:{click:function(e){return t.goToAnchor("index")}}},[t._v("首页")]),a("div",{ref:"backdrop",on:{click:function(e){return t.goToAnchor("backdrop")}}},[t._v("实验背景")]),a("div",{ref:"guide",on:{click:function(e){return t.goToAnchor("guide")}}},[t._v("实验指南")]),a("div",{ref:"step",on:{click:function(e){return t.goToAnchor("step")}}},[t._v("实验注意事项")]),a("div",{ref:"showScore",on:{click:function(e){return t.goToAnchor("showScore")}}},[t._v(" 成绩评定与查看 ")])]),a("el-tooltip",{attrs:{disabled:""==t.username,placement:"bottom"}},[a("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"content"},on:{click:t.exitLogin},slot:"content"},[t._v("退出登录")]),a("div",{staticClass:"userInfo"},[a("i",{staticClass:"el-icon-user"}),a("div",{staticClass:"login",on:{click:function(e){return t.loginForm(e)}}},[""!==t.username?a("span",[t._v(t._s(t.username))]):t._e(),""==t.username?a("span",[a("span",{staticStyle:{"margin-right":"5px"}},[t._v("登录")]),t._v("|"),a("span",{staticStyle:{"margin-left":"5px"}},[t._v("注册")])]):t._e(),a("login-form",{attrs:{LoginTableVisible:t.LoginTableVisible,formName:t.formName},on:{dialogFalse:function(e){t.LoginTableVisible=!1,t.formName=""},userLogin:t.userLogin}})],1)])])],1),a("div",{staticClass:"item",attrs:{id:"index"}},[a("div",{staticClass:"content index"},[a("h1",[t._v("风力发电机虚拟仿真实验")]),a("div",{staticClass:"detail"},[a("span",[t._v("学校： 湖南科技大学")]),a("span",{staticStyle:{"margin-left":"50px"}},[t._v("负责人： XXX")]),a("div",{staticStyle:{"margin-top":"40px"}},[a("span",{staticClass:"but",staticStyle:{"margin-right":"25px"},on:{click:t.gowebGl}},[t._v("进入实验")]),a("span",{staticClass:"but",on:{click:function(e){return t.goToAnchor("guide")}}},[t._v("查看实验指南")])])])])]),t._m(0),t._m(1),t._m(2),a("div",{staticClass:"item",attrs:{id:"showScore"}},[a("div",{staticClass:"line"}),a("div",{staticClass:"title",staticStyle:{"margin-bottom":"20px"}},[t._v("成绩评定与查看")]),a("div",{staticClass:"content"},[a("score-table"),2==t.userPower?a("div",{staticStyle:{width:"125px",margin:"10px auto 20px"}},[a("el-button",{staticStyle:{margin:"auto"},attrs:{type:"success",plain:""},on:{click:t.openDialog}},[t._v("查看我的成绩")]),a("el-dialog",{attrs:{title:"我的成绩",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-table",{attrs:{data:t.gridData}},[a("el-table-column",{attrs:{property:"school",label:"学校"}}),a("el-table-column",{attrs:{property:"studentnumber",label:"学号",width:"150"}}),a("el-table-column",{attrs:{property:"name",label:"姓名",width:"140"}}),a("el-table-column",{attrs:{property:"score",label:"成绩",width:"80"}}),a("el-table-column",{attrs:{property:"scoredate",label:"日期",width:"150"}})],1)],1)],1):t._e(),2!==t.userPower?a("div",{staticStyle:{width:"125px",margin:"10px auto 20px"}},[a("el-button",{attrs:{type:"success",plain:""},on:{click:t.toScoreMang}},[t._v("查看成绩分析")])],1):t._e()],1)])])},f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item",attrs:{id:"backdrop"}},[a("div",{staticClass:"line"}),a("div",{staticClass:"title"},[t._v("实验背景")]),a("div",{staticClass:"content"},[a("div",{staticClass:"main-text"},[a("p",{staticClass:"info-title"},[t._v("摘要")]),a("div",{staticClass:"info-text"},[a("p",[t._v(" 我们日常生活中所使用的能源主要以天然气等不可再生能源为主，这类能源的使用是不利于可持续发展目标的。对此，进行可再生能源的开发工作，是当前世界范围内所关注的重点。风能是一种常见的可再生能源，其开发的潜力巨大。 ")]),a("p",[t._v(" 风能虽然仅仅是太阳能的一种转换形式，并且在太阳能中一般只有2%左右的能量可以转化成为风能，但如果从总量上来看，还是十分可观的。风能可以算作如今最有商业前景的一种可再生能源。在这一基础上，风力发电的相关技术也在不断发展与进步。 ")]),a("p",[t._v(" 风力发电主要是利用风动能来进行转化，使其成为机械动能，最后再把机械能转换成为电能。风能本身是一种可再生能源，因此，风力发电本身就具有一定的环保性质。2005年《可再生能源法》立法后，风能这类可再生能源得到了更多的重视，其意义更是不容忽视的。在这一背景下，大力发展可再生能源是一种必然趋势。以我国为例，其风力发电最初出现在20世纪80年代中期，经过长时间的发展，我国的风力发电市场已经有了十分显著的进步。风力发电的使用不仅仅具有一定的环保优势，同时这种能源也具有可再生的优点。不过，在当前，风力发电技术也还有一些不足。基于此，相关从业人员还需要积极提升风力发电的稳定性，使我国风力发电的技术能够不断发展与进步。 ")])]),a("p",{staticClass:"info-title"},[t._v("风力发电现状")]),a("div",{staticClass:"info-text"},[a("p",[t._v(" 风力发电主要是利用风动能来进行转化，使其成为机械动能，最后再把机械能转换成为电能。风能本身是一种可再生能源，因此，风力发电本身就具有一定的环保性质。2005年《可再生能源法》立法后，风能这类可再生能源得到了更多的重视，其意义更是不容忽视的。在这一背景下，大力发展可再生能源是一种必然趋势。以我国为例，其风力发电最初出现在20世纪80年代中期，经过长时间的发展，我国的风力发电市场已经有了十分显著的进步。风力发电的使用不仅仅具有一定的环保优势，同时这种能源也具有可再生的优点。不过，在当前，风力发电技术也还有一些不足。基于此，相关从业人员还需要积极提升风力发电的稳定性，使我国风力发电的技术能够不断发展与进步。 ")]),a("p",[t._v(" 风力发电具有诸多优势，能够有效降低环境污染及能源成本，同时风力发电技术也相对成熟，因此目前风电行业发展速度较快，全球风力发电机发电容量正在以每年20%以上的速度递增。截止到2020年，全球风机总装机容量为743 GW，其中中国风电装机容量世界第一，为281 GW，是排名第二的美国风电装机容量的130%，并高于欧盟总和。由于我国对风电事业的持续性投入，使得风力发电技术不断发展成熟，风电行业未来的发展前景相当可观。 ")])]),a("p",{staticClass:"info-title"},[t._v("风力发电优点")]),a("div",{staticClass:"info-text"},[a("p",[t._v(" 风力发电技术在实际应用中存在很多优点，主要表现为以下方面。（1）经济效益好。在进行风力发电的过程中，风力发电的价格不高，随着技术成熟，价格下降速度较快，有的风力发电的成本已经接近煤炭的发电成本。除此之外，我国的风力能源较为丰富，在日后发展的过程中，经济效益会更加突出。（2）建设工期较短，建设完成后见效较快。由于风电工程的建设速度很快，在短期之内就可以完成工程项目的建设，从而可以有效解决一些急用的情况。风力发电技术的应用在一些偏远地区有重要作用，通过合理运用该技术，能够更好地满足偏远区域人们的用电需要。 ")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item",attrs:{id:"guide"}},[a("div",{staticClass:"line"}),a("div",{staticClass:"title"},[t._v("实验指南")]),a("div",{staticClass:"content"},[a("div",{staticClass:"main-text"},[a("p",{staticClass:"info-title"},[t._v("风力发电基本原理")]),a("div",{staticClass:"info-text"},[a("p",[t._v(" 风能的原理是将风能转化为机械能，然后转化为机械能和输出能。具体技术是风使风力叶片转动，使发电机内部旋转并切割磁场，最后能量积累装置以电能的形式保持恒定的电流输出。风力发电机通常由风力发电机叶片、低速轴、高速轴、风速计、塔楼、发电机、液压系统组成。其中，风轮是一种将风能转化为机器的装置，可根据风向的变化改变风轮的方向，从而最大限度地利用风能。塔是连接和支撑风轮和发电机的支座，其高度取决于周围地形和风轮的大小，以确保风轮的正常运行。发电机是一种将机械能从风轮转换为电能的装置。 ")]),a("p",[t._v(" 在风力发电机结构中，风力发电叶尖的线性速度与风速的关系被定义为顶点速度比，这是风力发电机的重要参数，其尺寸是影响风力发电机功率系数的重要参数。风力涡轮机中的电力调节是风力发电系统的关键技术工具。主要包括距离失速控制，失速控制，支架可以调整固定间距，叶片倾斜角不能按风速调整，设计比较简单可靠，风机输出功率随着风的速度而变化，在低风速下使用系数较低，螺杆调整的目的是改变倾斜角，调节风能转换效率，最大化能量转换效率，已达到风力发电机电力稳定输出功率的目的。 ")])]),a("p",{staticClass:"info-title"},[t._v("认识风力发电设备")]),a("div",{staticClass:"info-text"},[a("p",[t._v(" 机舱：机舱包容着风力发电机的关键设备，包括齿轮箱、发电机。维护人员可以通过风力发电机塔进入机舱。机舱左端是风力发电机转子，即转子叶片及轴。 ")]),a("p",[t._v(" 转子叶片：捉获风，并将风力传送到转子轴心。现代600千瓦风力发电机上，每个转子叶片的测量长度大约为20米，而且被设计得很像飞机的机翼。 ")]),a("p",[t._v("轴心：转子轴心附着在风力发电机的低速轴上。")]),a("p",[t._v(" 低速轴：风力发电机的低速轴将转子轴心与齿轮箱连接在一起。在现代600千瓦风力发电机上，转子转速相当慢，大约为19至30转每分钟。轴中有用于液压系统的导管，来激发空气动力闸的运行。 ")]),a("p",[t._v(" 高速轴及其机械闸：高速轴以1500转每分钟运转，并驱动发电机。它装备有紧急机械闸，用于空气动力闸失效时，或风力发电机被维修时。 ")]),a("p",[t._v(" 齿轮箱：齿轮箱左边是低速轴，它可以将高速轴的转速提高至低速轴的50倍。 ")]),a("p",[t._v(" 发电机：通常被称为感应电机或异步发电机。在现代风力发电机上，最大电力输出通常为500至1500千瓦。 ")]),a("p",[t._v(" 偏航装置：借助电动机转动机舱，以使转子正对着风。偏航装置由电子控制器操作，电子控制器可以通过风向标来感觉风向。显示了风力发电机偏航。通常，在风改变其方向时，风力发电机一次只会偏转几度。 ")]),a("p",[t._v(" 电子控制器：包含一台不断监控风力发电机状态的计算机，并控制偏航装置。为防止任何故障（即齿轮箱或发电机的过热），该控制器可以自动停止风力发电机的转动，并通过电话调制解调器来呼叫风力发电机操作员。 ")]),a("p",[t._v("液压系统：用于重置风力发电机的空气动力闸。")]),a("p",[t._v(" 冷却元件：包含一个风扇，用于冷却发电机。此外，它包含一个油冷却元件，用于冷却齿轮箱内的油。一些风力发电机具有水冷发电机。 ")]),a("p",[t._v(" 塔：风力发电机塔载有机舱及转子。通常高的塔具有优势，因为离地面越高，风速越大。现代600千瓦风汽轮机的塔高为40至60米。它可以为管状的塔，也可以是格子状的塔。管状的塔对于维修人员更为安全，因为他们可以通过内部的梯子到达塔顶。格状的塔的优点在于它比较便宜。 ")]),a("p",[t._v("风速计及风向标：用于测量风速及风向")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item",attrs:{id:"step"}},[a("div",{staticClass:"line"}),a("div",{staticClass:"title"},[t._v("实验注意事项")]),a("div",{staticClass:"content"},[a("div",{staticClass:"main-text"},[a("p",{staticClass:"info-title"},[t._v("推荐运行环境")]),a("div",{staticClass:"info-text"},[a("p",[t._v(" 系统基于WebGL，全程于Google Chrome上开发，Google Chrome对WebGL的支持程序在所有浏览器中支持度最高，运行该系统时推荐使用Google浏览器87版本及以上。 ")]),a("p",[t._v(" 本系统运用了的大量图形与模型，对计算机显示设备性能有一定的要求，推荐使用高性能的核显或者独立显卡。 ")])]),a("p",{staticClass:"info-title"},[t._v("运行过程中的注意事项")]),a("div",{staticClass:"info-text"},[a("p",[t._v("虚拟仿真运行过程中请不要进行刷新，一方面进行了刷新已完成的成绩不会保存，另一方面系统加载模型需要大量时间，刷新不会完全加载模型可能会导致模型不能显示。")]),a("p",[t._v("如虚拟仿真出现意外，可退出实验或者退回至上一页面重新进行仿真页面重新开始。")]),a("p",[t._v("在虚拟仿真运行过程中，如页面卡顿，可将场景更换项切换至‘网格场景’，如还是卡顿请更换设备使用上述推荐运行环境设备。")])])])])])}],b=(a("159b"),a("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{width:"40%",title:t.formName,visible:t.LoginTableVisible,"close-on-click-modal":!1,"show-close":!1,"append-to-body":!0},on:{"update:visible":function(e){t.LoginTableVisible=e}}},["登录"===t.formName?a("el-form",{ref:"loginRuleForm",staticClass:"demo-ruleForm",attrs:{model:t.loginForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"学校",prop:"school"}},[a("el-input",{model:{value:t.loginForm.school,callback:function(e){t.$set(t.loginForm,"school",e)},expression:"loginForm.school"}})],1),a("el-form-item",{attrs:{label:"学号(工号)",prop:"studentnumber"}},[a("el-input",{model:{value:t.loginForm.studentnumber,callback:function(e){t.$set(t.loginForm,"studentnumber",e)},expression:"loginForm.studentnumber"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.subLogin}},[t._v("提交")]),a("el-button",{on:{click:function(e){return t.$emit("dialogFalse")}}},[t._v("取消")])],1)],1):t._e(),"注册"===t.formName?a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"学校",prop:"school"}},[a("el-input",{model:{value:t.ruleForm.school,callback:function(e){t.$set(t.ruleForm,"school",e)},expression:"ruleForm.school"}})],1),a("el-form-item",{attrs:{label:"学号(工号)",prop:"studentnumber"}},[a("el-input",{model:{value:t.ruleForm.studentnumber,callback:function(e){t.$set(t.ruleForm,"studentnumber",e)},expression:"ruleForm.studentnumber"}})],1),a("el-form-item",{attrs:{label:"身份",prop:"power"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.ruleForm.power,callback:function(e){t.$set(t.ruleForm,"power",e)},expression:"ruleForm.power"}},[a("el-option",{attrs:{label:"学生",value:"学生"}}),a("el-option",{attrs:{label:"教师",value:"教师"}})],1)],1),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.ruleForm.checkPass,callback:function(e){t.$set(t.ruleForm,"checkPass",e)},expression:"ruleForm.checkPass"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.subRegister}},[t._v("提交")]),a("el-button",{on:{click:function(e){return t.$emit("dialogFalse")}}},[t._v("取消")])],1)],1):t._e()],1)],1)}),g=[],v=a("5530"),w=(a("b0c0"),{props:["LoginTableVisible","formName"],data:function(){return{loginForm:{school:"",studentnumber:"",password:""},ruleForm:{school:"",studentnumber:"",name:"",password:"",checkPass:"",power:"学生"},rules:{school:[{validator:this.validateSchool,trigger:"blur"}],password:[{validator:this.validatePass,trigger:"blur"}],checkPass:[{validator:this.validatePass2,trigger:"blur"}],studentnumber:[{validator:this.checkStudentnumber,trigger:"blur"}]}}},methods:{validateSchool:function(t,e,a){e?(this.schoolIsNotNull=!0,a()):(this.schoolIsNotNull=!1,a(new Error("学校不能为空")))},checkStudentnumber:function(t,e,a){e?(this.numIsNotNull=!0,a()):(this.numIsNotNull=!1,a(new Error("学号不能为空")))},validatePass:function(t,e,a){""===e?(this.passIsNotNull=!1,a(new Error("请输入密码"))):(""!==this.ruleForm.checkPass&&this.$refs.ruleForm.validateField("checkPass"),this.passIsNotNull=!0,a())},validatePass2:function(t,e,a){""===e?(this.pass2IsNotNull=!1,a(new Error("请再次输入密码"))):e!==this.ruleForm.password?(this.pass2IsNotNull=!1,a(new Error("两次输入密码不一致!"))):(this.pass2IsNotNull=!0,a())},subLogin:function(){var t=this;this.numIsNotNull&&this.passIsNotNull&&this.schoolIsNotNull?this.$axios.post("/login",Object(v["a"])({},this.loginForm)).then((function(e){var a=e.data.code;200==a?(t.$message({showClose:!0,message:"登录成功",type:"success"}),o("userInfo",{id:e.data.id,school:"admin"!=t.loginForm.studentnumber?t.loginForm.school:"",username:t.loginForm.studentnumber,userPower:e.data.power},.5),t.userPower=e.data.power,t.$emit("userLogin",t.userPower,t.loginForm.studentnumber),t.loginForm={school:"",studentnumber:"",password:""}):t.$message({showClose:!0,message:"学校、学号或密码错误",type:"warning"})})).catch((function(e){t.$message({showClose:!0,message:"登录失败: "+e,type:"warning"})})):this.$message({showClose:!0,message:"请输入内容",type:"warning"})},subRegister:function(){var t=this;this.numIsNotNull&&this.passIsNotNull&&this.pass2IsNotNull&&this.schoolIsNotNull?this.$axios.post("/register",{school:this.ruleForm.school,studentnumber:this.ruleForm.studentnumber,name:this.ruleForm.name,password:this.ruleForm.password,power:this.ruleForm.power}).then((function(e){var a=e.data,s=a.code,n=a.msg;200==s?(t.$message({showClose:!0,message:n,type:"success"}),o("userInfo",{id:e.data.id,school:"admin"!=t.ruleForm.studentnumber?t.ruleForm.school:"",username:t.ruleForm.studentnumber,userPower:e.data.power},.5),t.userPower=e.data.power,t.$emit("userLogin",t.userPower,t.ruleForm.studentnumber),t.ruleForm={school:"",studentnumber:"",name:"",password:"",checkPass:"",power:"学生"}):t.$message({showClose:!0,message:n,type:"warning"})})).catch((function(e){t.$message({showClose:!0,message:"注册失败: "+e,type:"warning"})})):this.$message({showClose:!0,message:"请输入内容",type:"warning"})}}}),y=w,x=Object(u["a"])(y,b,g,!1,null,null,null),C=x.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isShow?a("el-table",{staticClass:"scoreStyle",staticStyle:{width:"80%"},attrs:{data:t.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{align:"center",prop:"content",label:"实验内容"}}),a("el-table-column",{attrs:{align:"center",prop:"score",label:"分值",width:"180"}}),a("el-table-column",{attrs:{align:"center",prop:"isComplete",label:"是否完成",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isComplete?a("i",{staticClass:"el-icon-circle-check",staticStyle:{color:"#66b1ff"}}):t._e()]}}],null,!1,2028018101)})],1):t._e()},F=[],T={data:function(){return{isShow:!0,tableData:this.$EventBus.tableData}},mounted:function(){}},_=T,S=(a("5549"),Object(u["a"])(_,E,F,!1,null,"321a48f4",null)),$=S.exports,I={components:{LoginForm:C,scoreTable:$},data:function(){return{preNav:null,currtNav:r("nowNav")||"index",gridData:[],dialogTableVisible:!1,LoginTableVisible:!1,formName:"",isLogin:!1,username:r("userInfo")?r("userInfo").username:"",userPower:r("userInfo")?r("userInfo").userPower:null,isgetScore:!1}},mounted:function(){this.changNavColor(this.currtNav),window.addEventListener("scroll",this.debounce(this.changMenu,100)),""!=this.username&&(this.isLogin=!0)},watch:{},methods:{gowebGl:function(){var t=this;this.isLogin?(this.$EventBus.$emit("changLoad",!0),setTimeout((function(){t.$router.push("/webGlpage")}),1e3)):this.$message({showClose:!0,message:"你还未登录，请先登录或注册",type:"warning",duration:2e3})},goToAnchor:function(t){this.changNavColor(t),this.$el.querySelector("#"+t).scrollIntoView({behavior:"smooth",block:"start"})},changNavColor:function(t){"index"!=t&&!this.isgetScore&&this.isLogin&&(this.isgetScore=!0,o("score",10,.5),this.putScore()),o("nowNav",t,6e-4),this.currtNav=t,this.$refs[t].style.background="#fff",this.preNav&&(this.$refs[this.preNav].style.background="#4395ff"),this.preNav=t},changMenu:function(){var t=this,e=document.documentElement.clientHeight,a=300;this.navList=["index","backdrop","guide","step","showScore"],this.navList.forEach((function(s){var n=document.getElementById(s).getBoundingClientRect(),i=n.top;i<e-a&&t.changNavColor(s)}))},loginForm:function(t){"登录"==t.target.innerText?(this.LoginTableVisible=!0,this.formName="登录"):"注册"==t.target.innerText&&(this.LoginTableVisible=!0,this.formName="注册")},userLogin:function(t,e){this.userPower=t,this.username=e,this.isLogin=!0,this.LoginTableVisible=!1,this.formName=""},exitLogin:function(){this.username="",localStorage.removeItem("userInfo"),this.isLogin=!1},openDialog:function(){var t=this;this.isLogin?(this.dialogTableVisible=!0,this.$axios.get("/scoreSearch?id=".concat(r("userInfo").id)).then((function(e){var a=e.data,s=a.code,n=a.msg;200==s?t.gridData=e.data.data:t.$message({showClose:!0,message:n,type:"warning"})})).catch((function(e){t.$message({showClose:!0,message:"注册失败: "+e,type:"warning"})}))):this.$message({showClose:!0,message:"你还未登录，请先登录或注册",type:"warning",duration:2e3})},putScore:function(){var t=this;this.$axios.get("/changScore?user_id=".concat(r("userInfo").id,"&score=").concat(r("score"))).then((function(e){var a=e.data.code;200==a&&(t.$EventBus.tableData[0].isComplete=!0)}))},toScoreMang:function(){this.isLogin?this.$router.push("/ScoreMang"):this.$message({showClose:!0,message:"你还未登录，请先登录或注册",type:"warning",duration:2e3})},debounce:function(t,e){var a=null;return function(){a&&clearTimeout(a),a=setTimeout(t,e)}}}},k=I,A=(a("e5f2"),Object(u["a"])(k,d,f,!1,null,"e14af462",null)),D=A.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"threeTarget",staticClass:"main"},[a("img",{staticClass:"schoolLogo",attrs:{src:"/schoolLogo.svg",alt:"logo"}}),a("div",{staticClass:"showBox"},[a("el-card",{staticClass:"box-card"},[a("span",{staticStyle:{margin:"10px 10px"}},[t._v("改变环境风速：")]),a("el-select",{staticStyle:{"margin-bottom":"15px"},on:{change:t.changSpeed},model:{value:t.TEspeed,callback:function(e){t.TEspeed=e},expression:"TEspeed"}},[a("el-option",{attrs:{label:"4 m/s",value:"0.02"}}),a("el-option",{attrs:{label:"8 m/s",value:"0.04"}}),a("el-option",{attrs:{label:"10 m/s",value:"0.05"}}),a("el-option",{attrs:{label:"12 m/s",value:"0.06"}})],1),a("span",{staticStyle:{margin:"10px 26px"}},[t._v("改变风向：")]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"风机最大可转动正负60度",placement:"top"}},[a("el-input",{staticStyle:{width:"222px"},attrs:{placeholder:"请输入角度"},on:{change:t.changAngleFun},model:{value:t.changAngle,callback:function(e){t.changAngle=e},expression:"changAngle"}})],1),a("span",{staticStyle:{margin:"10px 26px"}},[t._v("风机阵列：")]),a("el-select",{staticStyle:{"margin-top":"20px"},on:{change:t.openShow},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}},[a("el-option",{attrs:{label:"单风机运行",value:"单风机运行"}}),a("el-option",{attrs:{label:"多风机阵列一",value:"多风机阵列一"}}),a("el-option",{attrs:{label:"多风机阵列二",value:"多风机阵列二"}})],1),a("span",{staticStyle:{margin:"10px 26px"}},[t._v("场景更换：")]),a("el-select",{staticStyle:{"margin-top":"20px"},on:{change:t.changScen},model:{value:t.scene,callback:function(e){t.scene=e},expression:"scene"}},[a("el-option",{attrs:{label:"草场",value:"草场"}}),a("el-option",{attrs:{label:"海水",value:"海水"}}),a("el-option",{attrs:{label:"网格场景",value:"网格场景"}})],1)],1),a("el-button",{staticClass:"stepStyle",on:{click:function(e){t.dialogTableVisible=!0}}},[t._v("查看得分情况")]),a("el-dialog",{attrs:{title:"得分情况",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("score-table",{staticStyle:{width:"100% !important"}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShow,expression:"!isShow"}],staticClass:"showBox"},[a("el-card",{staticClass:"box-card2"},[a("div",{staticStyle:{margin:"10px 30px 20px 20px"}},[t._v(" 转机转速："),a("el-tag",{staticStyle:{"margin-left":"20px",width:"80px"}},[t._v(t._s(t.fanSpeed)+" m/s")])],1),a("div",{staticStyle:{margin:"10px 30px 20px 20px"}},[t._v(" 转机角度："),a("el-tag",{staticStyle:{"margin-left":"20px",width:"80px"}},[t._v(t._s(t.fanAngle)+" 度")])],1),a("div",{staticStyle:{margin:"10px 30px 10px 20px"}},[t._v(" 叶片角度："),a("el-tag",{staticStyle:{"margin-left":"20px",width:"80px"}},[t._v(t._s(t.bladeAngle)+" 度")])],1)])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShow,expression:"!isShow"}],staticClass:"showBox"},[a("el-card",{staticClass:"box-card3"},[a("line-chart",{attrs:{title:"转速变化",chartData:t.chartDataArr}})],1),a("el-card",{staticClass:"box-card4"},[a("line-chart",{attrs:{title:"转化效率(%)",chartData:t.chartDataArr2}})],1),a("el-card",{staticClass:"box-card5"},[a("area-chart",{attrs:{chartData:t.chartDataArr3}})],1)],1),a("div",{staticClass:"openObj"},[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.$router.go(-1)}}},[t._v(" 退出实验 ")]),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"success",size:"medium"},on:{click:t.openElectric}},[t._v(t._s(t.electricTitle))])],1)])},j=[],O=a("2909"),P=(a("b680"),a("cb29"),a("d4ec")),L=a("bee2"),B=a("5a89"),z=a("ef20"),M=a("4721"),V=a("4a72"),R=function(){function t(e){var a=this;Object(P["a"])(this,t),this.dom=e;var s=this.renderer=new B["T"]({antialias:!0});s.shadowMap.enabled=!0;var n=new B["K"];this.camera=new B["B"](45,e.offsetWidth/e.offsetHeight,1,1e3),this.camera.position.set(15,80,-130),this.camera.up=new B["S"](0,1,0),this.speed=.02,this.speedArr=new Array(5).fill(0),this.transformArr=new Array(5).fill(0),this.angle=0,this.angle60=0,this.Fanblades=[],this.cylinder=[],this.fanBox=[],this.changAngle=!1,this.openElectric=!1,this.isShow=!1,s.setSize(e.offsetWidth,e.offsetHeight,!0);var i=Object(z["a"])(),o=i.domElement;o.style.position="fixed",o.style.top="0",o.style.right="5px",o.style.left="unset";var r=this.orbitControls=new M["a"](this.camera,s.domElement);this.init=!1,r.target=new B["S"](0,10,0);var l=function t(){if(r.update(),a.Fanblades.length>=1&&a.openElectric&&a.Fanblades.forEach((function(t){t.rotation.z+=a.speed*Math.cos(a.angle-a.angle60)})),a.changAngle){if(a.angle60>a.angle){for(var e=0;e<a.Fanblades.length;e++)a.Fanblades[e].rotation.y+=Math.PI/180*-.1,a.fanBox[e].rotation.y+=Math.PI/180*-.1,a.fanBox[e].rotation.y<=Math.PI/180*-60&&(a.Fanblades[e].rotation.y=Math.PI/180*-60,a.fanBox[e].rotation.y=Math.PI/180*-60,a.changAngle=!1);a.fanBox[0].rotation.y<=a.angle&&(a.changAngle=!1)}else if(a.angle60<a.angle){for(var o=0;o<a.Fanblades.length;o++)a.Fanblades[o].rotation.y+=Math.PI/180*.1,a.fanBox[o].rotation.y+=Math.PI/180*.1,a.fanBox[o].rotation.y>=Math.PI/180*60&&(a.Fanblades[o].rotation.y=Math.PI/180*60,a.fanBox[o].rotation.y=Math.PI/180*60,a.changAngle=!1);a.fanBox[0].rotation.y>=a.angle&&(a.changAngle=!1)}a.angle60=a.fanBox[0].rotation.y}s.render(n,a.camera),i.update(),requestAnimationFrame(t)};l(),e.appendChild(s.domElement),e.appendChild(o),this.renderer=s,this.scene=n;var c=new B["A"](this.renderer);c.compileEquirectangularShader(),(new V["a"]).load("/OutdoorHDRI019_4K-HDR.exr",(function(t){var e=new B["w"]({map:t}),a=new B["L"](300);a.scale(-1,1,1);var s=new B["v"](a,e);n.add(s)})),s.toneMapping=B["J"],s.toneMappingExposure=3}return Object(L["a"])(t,[{key:"addObject",value:function(){for(var t=this,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];a.forEach((function(e){t.scene.add(e)}))}}]),t}(),G=[],J=new B["y"]({color:"rgb(0, 75, 75)",roughness:0}),W=new B["v"](new B["c"](800,10,800),J);W.castShadow=!0,W.receiveShadow=!0,W.position.y=-5,G.push(W);var H=[],K=new B["a"]("rgb(255, 255, 255)",.3),X=new B["C"]("rgb(255, 0, 0)",.5,50,.1);X.position.set(20,20,0);var q=new B["N"]("rgb(255, 255, 255)",1,200,Math.PI/180*30,0,0);q.castShadow=!0,q.position.set(-300,100,0),q.target=W,H.push(K,q);var U=[],Q=new B["b"](500);Q.raycast=function(){};var Y=new B["l"](500,20,"rgb(200, 200, 200)","rgb(100, 100, 100)");Y.raycast=function(){};var Z=new B["D"](X,X.distance,X.color);Z.raycast=function(){};var tt=new B["O"](q,q.color);tt.raycast=function(){},U.push(Y);var et=new B["Q"],at=et.load("/GrassColor.jpg"),st=et.load("/GrassRoughness.jpg"),nt=et.load("/GrassDisplacement.jpg"),it=et.load("/Plastic008_2K_Color.jpg"),ot=et.load("/PaintedBricks001_2K_Roughness.jpg"),rt=et.load("/Foam003_1K_Displacement.jpg"),lt=new B["y"]({map:it,roughnessMap:ot,bumpMap:rt}),ct=function(t,e,a,s){var n=setInterval((function(){s.position.x+=s.position.x<t?10:0,s.position.y+=s.position.y<e?5:0,s.position.z+=s.position.z>a?-8:0,s.position.x>=t&&s.position.y>=e&&s.position.z<=a&&clearInterval(n)}),60)},ut=function(t){var e,a=0,s=0,n=setInterval((function(){e=t.speed*Math.cos(t.angle-t.angle60),a++,a>=10&&(a=0,200*e.toFixed(4)==t.speedArr[t.speedArr.length-1]?s++:s=0,s<=5?(t.speedArr.push(200*e.toFixed(4)),t.transformArr.push(Math.abs(100*Math.cos(t.angle-t.angle60).toFixed(2)-30))):clearInterval(n))}),100)},ht=function(t,e){t.get("/changScore?user_id=".concat(mt("userInfo").id,"&score=").concat(mt("score"))).then((function(t){var a=t.data.code;200==a&&e()}))},pt=function(t,e,a){var s={data:e,time:Date.now(),expire:60*a*60*24*1e3};localStorage.setItem(t,JSON.stringify(s))},mt=function(t){var e=localStorage.getItem(t);return!!e&&(e=JSON.parse(e),Date.now()-e.time>e.expire?(localStorage.removeItem(t),null):e.data)},dt=(a("d3b7"),a("e642")),ft=new dt["a"],bt=new Promise((function(t,e){ft.loadAsync("/grass.obj").then((function(e){var a=e.children[0];a.material=new B["y"]({map:at,roughnessMap:st,bumpMap:nt}),a.scale.set(10,10,10),t(a)})).catch((function(t){e(t)}))})),gt=new Promise((function(t,e){ft.loadAsync("/转头.obj").then((function(e){var a=e.children[0];a.material=new B["y"]({}),t(a)})).catch((function(t){e(t)}))})),vt=new Promise((function(t,e){ft.loadAsync("/柱.obj").then((function(e){var a=e.children[0];a.material=new B["y"]({}),t(a)})).catch((function(t){e(t)}))})),wt=new Promise((function(t,e){ft.loadAsync("/转机.obj").then((function(e){var a=e.children[0];a.material=new B["y"]({}),t(a)})).catch((function(t){e(t)}))})),yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart"},[a("div",{ref:"Chart",staticClass:"chartContent"})])},xt=[],Ct=a("313e"),Et={props:["chartData","title"],data:function(){return{chartInstance:null,option:{},objData:[]}},mounted:function(){this.chartInstance=Ct["a"](this.$refs.Chart),this.updateChart(),window.addEventListener("resize",this.handleResize)},watch:{chartData:{handler:function(t){this.option.series[0].data=t,this.chartInstance.setOption(this.option)},deep:!0}},methods:{updateChart:function(){this.option={title:{text:this.title,left:"center"},grid:{top:40,bottom:10},xAxis:{type:"category",show:!1},yAxis:{type:"value"},series:[{data:this.chartData,type:"line",smooth:!0,symbol:"circle"}]},this.chartInstance.setOption(this.option)},handleResize:function(){this.chartInstance&&this.chartInstance.resize()}},beforeDestroy:function(){this.chartInstance&&this.chartInstance.dispose(),this.chartInstance=null,window.removeEventListener("resize",this.handleResize)}},Ft=Et,Tt=(a("1489"),Object(u["a"])(Ft,yt,xt,!1,null,"21ff5054",null)),_t=Tt.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart"},[a("div",{ref:"Chart",staticClass:"chartContent"})])},$t=[],It={props:["chartData"],data:function(){return{chartInstance:null,option:{},objData:[],dataVal:this.chartData}},mounted:function(){var t=this;this.chartInstance=Ct["a"](this.$refs.Chart),this.updateChart(),window.addEventListener("resize",this.handleResize),this.timer=setInterval((function(){0!=t.dataVal&&(t.option.series[0].data.push(Math.abs(t.dataVal)),t.chartInstance.setOption(t.option))}),1e3)},watch:{chartData:{handler:function(t){this.dataVal=t},deep:!0}},methods:{updateChart:function(){this.option={title:{text:"发电量(kw/h)",left:"center"},grid:{top:40,bottom:10},xAxis:{type:"category",show:!1},yAxis:{type:"value"},tooltip:{trigger:"axis",backgroundColor:"rgba(255, 255, 255, 0.8)"},series:[{data:[],type:"line",areaStyle:{}}]},this.chartInstance.setOption(this.option)},handleResize:function(){this.chartInstance&&this.chartInstance.resize()}},beforeDestroy:function(){this.chartInstance&&this.chartInstance.dispose(),this.chartInstance=null,clearInterval(this.timer),window.removeEventListener("resize",this.handleResize)}},kt=It,At=(a("5573"),Object(u["a"])(kt,St,$t,!1,null,"4271c7a0",null)),Dt=At.exports,Nt={components:{scoreTable:$,LineChart:_t,areaChart:Dt},data:function(){return{title:"单风机运行",isShow:!1,electricTitle:"开始实验",changAngle:0,TE:null,TEspeed:"4 m/s",dialogTableVisible:!1,scene:"草场"}},mounted:function(){var t=this;this.grassArr=[];var e=this.$refs.threeTarget,a=new R(e);this.TE=a,a.addObject.apply(a,Object(O["a"])(G)),a.addObject.apply(a,Object(O["a"])(H)),a.addObject.apply(a,Object(O["a"])(U)),this.addFrames(0,0,0),setTimeout((function(){t.$EventBus.$emit("changLoad",!1)}),2e3),this.complete1=!1,this.complete2=!1,this.complete3=!1,this.complete4=!1;var s=setInterval((function(){t.complete1&&t.complete2&&t.complete3&&t.complete4&&(t.$EventBus.tableData[5].isComplete=!0,clearInterval(s))}),2e3)},computed:{fanSpeed:function(){try{return this.TE.openElectric?(this.TE.speed*Math.cos(this.TE.angle-this.TE.angle60)*200).toFixed(2):0}catch(t){return 0}},fanAngle:function(){try{return(180*this.TE.angle60/Math.PI).toFixed(2)}catch(t){return 0}},bladeAngle:function(){try{return(this.fanAngle-this.changAngle+90).toFixed(2)}catch(t){return 90}},chartDataArr:function(){try{return this.TE.speedArr}catch(t){return 0}},chartDataArr2:function(){try{return this.TE.transformArr}catch(t){return 0}},chartDataArr3:function(){try{return this.TE.openElectric*Math.pow(200*this.TE.speed-2,3)*(Math.cos(this.TE.angle-this.TE.angle60).toFixed(2)-.1)}catch(t){return 0}}},watch:{},methods:{changePoint:function(t,e,a,s){var n=new B["z"];return n.position.set(t,e,a),n.add(s),s.position.set(-t,-e,-a),n},changSpeed:function(t){var e=this;this.TE.speed=parseFloat(t),this.TE.openElectric&&ut(this.TE),this.$EventBus.tableData[2].isComplete||(pt("score",mt("score")+10,.5),ht(this.$axios,(function(){e.$EventBus.tableData[2].isComplete=!0}))),this.$EventBus.tableData[2].isComplete&&!this.complete1&&(pt("score",mt("score")+20,.5),ht(this.$axios,(function(){e.complete1=!0})))},changAngleFun:function(){var t=this;this.changAngle=parseFloat(this.changAngle),"number"!==typeof this.changAngle||isNaN(this.changAngle)||(this.TE.angle=Math.PI/180*this.changAngle,this.TE.changAngle=!0,this.TE.openElectric&&ut(this.TE),this.$EventBus.tableData[3].isComplete||(pt("score",mt("score")+20,.5),ht(this.$axios,(function(){t.$EventBus.tableData[3].isComplete=!0}))),this.$EventBus.tableData[3].isComplete&&!this.complete2&&(pt("score",mt("score")+10,.5),ht(this.$axios,(function(){t.complete2=!0}))))},changScen:function(t){var e=this;"草场"==t?(this.grassArr.forEach((function(t){t.visible=!0})),U[0].visible=!1):"网格场景"==t?(this.grassArr.forEach((function(t){t.visible=!1})),U[0].visible=!0,G[0].material=J):(this.grassArr.forEach((function(t){t.visible=!1})),U[0].visible=!1,G[0].material=lt),this.complete3||(pt("score",mt("score")+5,.5),ht(this.$axios,(function(){e.complete3=!0})))},openElectric:function(){var t,e,a=this;this.TE.openElectric?(this.electricTitle="开始实验",this.TE.openElectric=!1,(t=this.TE.speedArr).push.apply(t,Object(O["a"])(new Array(5).fill(0))),(e=this.TE.transformArr).push.apply(e,Object(O["a"])(new Array(5).fill(0)))):(this.electricTitle="停止实验",this.TE.openElectric=!0,ut(this.TE),this.$EventBus.tableData[1].isComplete||(pt("score",mt("score")+10,.5),ht(this.$axios,(function(){a.$EventBus.tableData[1].isComplete=!0}))))},openShow:function(t){var e=this;if("单风机运行"!==t){if(this.isShow=!0,ct(190,150,-200,this.TE.camera),this.TE.Fanblades.forEach((function(t){t.visible=!0})),this.TE.cylinder.forEach((function(t){t.visible=!0})),this.TE.fanBox.forEach((function(t){t.visible=!0})),"多风机阵列二"==t){this.TE.Fanblades[1].position.z=200,this.TE.cylinder[1].position.z=200,this.TE.fanBox[1].position.z=200,this.TE.Fanblades[5].position.z=200,this.TE.cylinder[5].position.z=200,this.TE.fanBox[5].position.z=200,this.TE.Fanblades[10].position.z=-150,this.TE.cylinder[10].position.z=-150,this.TE.fanBox[10].position.z=-150,this.TE.Fanblades[14].position.z=-150,this.TE.cylinder[14].position.z=-150,this.TE.fanBox[14].position.z=-150;for(var a=0,s=[3,7,8,12];a<s.length;a++){var n=s[a];this.TE.Fanblades[n].visible=!1,this.TE.cylinder[n].visible=!1,this.TE.fanBox[n].visible=!1}}else this.TE.Fanblades[1].position.z=100,this.TE.cylinder[1].position.z=100,this.TE.fanBox[1].position.z=100,this.TE.Fanblades[5].position.z=100,this.TE.cylinder[5].position.z=100,this.TE.fanBox[5].position.z=100,this.TE.Fanblades[10].position.z=-100,this.TE.cylinder[10].position.z=-100,this.TE.fanBox[10].position.z=-100,this.TE.Fanblades[14].position.z=-100,this.TE.cylinder[14].position.z=-100,this.TE.fanBox[14].position.z=-100;this.$EventBus.tableData[4].isComplete||(pt("score",mt("score")+10,.5),ht(this.$axios,(function(){e.$EventBus.tableData[4].isComplete=!0}))),this.$EventBus.tableData[4].isComplete&&!this.complete4&&(pt("score",mt("score")+5,.5),ht(this.$axios,(function(){e.complete4=!0})))}else this.isShow=!1,this.TE.camera.position.set(15,80,-130),this.TE.orbitControls.target=new B["S"](0,10,0),this.TE.Fanblades.forEach((function(t,e){t.visible=0==e})),this.TE.cylinder.forEach((function(t,e){t.visible=0==e})),this.TE.fanBox.forEach((function(t,e){t.visible=0==e}))},addGrass:function(t,e,a){a.position.set(t,0,e),this.grassArr.push(a),this.TE.addObject(a),t-10<-250&&(t=260,e-=10,e<-250)||this.addGrass(t-10,e,a.clone())},addFrames:function(t,e,a){var s=this,n={frame1:null,frame2:null,frame3:null},i={frame1:null,frame2:null,frame3:null},o={frame1:null,frame2:null,frame3:null};gt.then((function(r){var l=s.changePoint(.3,45.9,0,r);l.position.set(t+.25,e+45.9,a),n.frame1=l.clone(),i.frame1=l.clone(),o.frame1=l.clone(),s.TE.Fanblades.push(l),s.TE.addObject(l)})),vt.then((function(r){r.position.set(t,e,a+2.5),n.frame2=r.clone(),i.frame2=r.clone(),o.frame2=r.clone(),s.TE.cylinder.push(r),s.TE.addObject(r)})),wt.then((function(r){r.position.set(t,e,a),n.frame3=r.clone(),i.frame3=r.clone(),o.frame3=r.clone(),s.TE.fanBox.push(r),s.TE.addObject(r),s.line1=5,s.createFramesLine1(160,0,100,n),s.line2=4,s.createFramesLine2(160,0,0,i),s.line3=5,s.createFramesLine3(160,0,-100,o)})),bt.then((function(t){t.position.set(250,0,250);var e=t.clone();s.grassArr.push(t),s.TE.addObject(t),s.addGrass(240,250,e)}))},createFramesLine2:function(t,e,a,s){if(!(this.line2<=0)){0==t&&(t=-80),s.frame1.position.set(t+.25,e+45.9,a),s.frame1.visible=!1;var n=s.frame1.clone();this.TE.Fanblades.push(s.frame1),this.TE.addObject(s.frame1),s.frame2.position.set(t,e,a+2.5),s.frame2.visible=!1;var i=s.frame2.clone();this.TE.cylinder.push(s.frame2),this.TE.addObject(s.frame2),s.frame3.position.set(t,e,a),s.frame3.visible=!1;var o=s.frame3.clone();this.TE.fanBox.push(s.frame3),this.TE.addObject(s.frame3);var r={frame1:n,frame2:i,frame3:o};this.line2--,this.createFramesLine2(t-80,e,a,r)}},createFramesLine1:function(t,e,a,s){if(!(this.line1<=0)){s.frame1.position.set(t+.25,e+45.9,a),s.frame1.visible=!1;var n=s.frame1.clone();this.TE.Fanblades.push(s.frame1),this.TE.addObject(s.frame1),s.frame2.position.set(t,e,a+2.5),s.frame2.visible=!1;var i=s.frame2.clone();this.TE.cylinder.push(s.frame2),this.TE.addObject(s.frame2),s.frame3.position.set(t,e,a),s.frame3.visible=!1;var o=s.frame3.clone();this.TE.fanBox.push(s.frame3),this.TE.addObject(s.frame3);var r={frame1:n,frame2:i,frame3:o};this.line1--,this.createFramesLine1(t-80,e,a,r)}},createFramesLine3:function(t,e,a,s){if(!(this.line3<=0)){s.frame1.position.set(t+.25,e+45.9,a),s.frame1.visible=!1;var n=s.frame1.clone();this.TE.Fanblades.push(s.frame1),this.TE.addObject(s.frame1),s.frame2.position.set(t,e,a+2.5),s.frame2.visible=!1;var i=s.frame2.clone();this.TE.cylinder.push(s.frame2),this.TE.addObject(s.frame2),s.frame3.position.set(t,e,a),s.frame3.visible=!1;var o=s.frame3.clone();this.TE.fanBox.push(s.frame3),this.TE.addObject(s.frame3);var r={frame1:n,frame2:i,frame3:o};this.line3--,this.createFramesLine3(t-80,e,a,r)}}}},jt=Nt,Ot=(a("abba"),Object(u["a"])(jt,N,j,!1,null,"78f0d601",null)),Pt=Ot.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cardBox"},[a("el-card",{staticClass:"box-table"},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("成绩分析")])],1)],1),a("div",{staticClass:"demo-form-inline"},[a("el-form",{ref:"searchForm",attrs:{inline:!0,model:t.serachCondition}},[a("el-form-item",{staticClass:"marginRight",attrs:{prop:"school",label:"学校"}},[a("el-input",{attrs:{placeholder:"按学校搜索"},model:{value:t.serachCondition.school,callback:function(e){t.$set(t.serachCondition,"school",e)},expression:"serachCondition.school"}})],1),a("el-form-item",{staticClass:"marginRight",attrs:{prop:"studentnumber",label:"学 / 工号"}},[a("el-input",{attrs:{placeholder:"按学/工号搜索"},model:{value:t.serachCondition.studentnumber,callback:function(e){t.$set(t.serachCondition,"studentnumber",e)},expression:"serachCondition.studentnumber"}})],1),a("el-form-item",{staticClass:"marginRight",attrs:{prop:"name",label:"姓名"}},[a("el-input",{attrs:{placeholder:"按姓名搜索"},model:{value:t.serachCondition.name,callback:function(e){t.$set(t.serachCondition,"name",e)},expression:"serachCondition.name"}})],1),a("el-form-item",{staticClass:"marginRight",attrs:{prop:"power",label:"身份"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.serachCondition.power,callback:function(e){t.$set(t.serachCondition,"power",e)},expression:"serachCondition.power"}},[a("el-option",{attrs:{label:"学生",value:"学生"}}),a("el-option",{attrs:{label:"教师",value:"教师"}})],1)],1),a("el-form-item",{staticClass:"marginRight"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")]),a("el-button",{attrs:{type:"success"},on:{click:t.changType}},[t._v(t._s(t.title))]),a("el-button",{on:{click:function(e){return t.resetForm("searchForm")}}},[t._v("重置")])],1)],1)],1),a("div",{staticClass:"tableContent"},[t.showTable?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{property:"school",label:"学校","min-width":"20%"}}),a("el-table-column",{attrs:{property:"studentnumber",label:"学/工号","min-width":"20%"}}),a("el-table-column",{attrs:{property:"name",label:"姓名","min-width":"15%"}}),a("el-table-column",{attrs:{property:"score",label:"成绩","min-width":"15%"}}),a("el-table-column",{attrs:{property:"scoredate",label:"日期","min-width":"20%"}}),a("el-table-column",{attrs:{label:"操作","min-width":"10%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"font-size":"12px",color:"#409eff",cursor:"pointer"},attrs:{type:"text"},on:{click:function(a){return t.editUser(e.row)}}},[t._v("编辑")])]}}],null,!1,4009779367)})],1):t._e(),!t.showTable&&t.showChart?a("charts",{attrs:{chartData:t.chartData}}):t._e()],1),a("el-dialog",{attrs:{width:"40%",title:"信息修改",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.userForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"学校",prop:"school"}},[a("el-input",{model:{value:t.userForm.school,callback:function(e){t.$set(t.userForm,"school",e)},expression:"userForm.school"}})],1),a("el-form-item",{attrs:{label:"学号(工号)",prop:"studentnumber"}},[a("el-input",{model:{value:t.userForm.studentnumber,callback:function(e){t.$set(t.userForm,"studentnumber",e)},expression:"userForm.studentnumber"}})],1),a("el-form-item",{attrs:{label:"身份",prop:"power"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.userForm.power,callback:function(e){t.$set(t.userForm,"power",e)},expression:"userForm.power"}},[a("el-option",{attrs:{label:"学生",value:"学生"}}),a("el-option",{attrs:{label:"教师",value:"教师"}})],1)],1),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{model:{value:t.userForm.name,callback:function(e){t.$set(t.userForm,"name",e)},expression:"userForm.name"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.userForm.password,callback:function(e){t.$set(t.userForm,"password",e)},expression:"userForm.password"}})],1),a("el-form-item",{attrs:{label:"成绩",prop:"score"}},[a("el-input",{attrs:{disabled:""},model:{value:t.userForm.score,callback:function(e){t.$set(t.userForm,"score",e)},expression:"userForm.score"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.userChang}},[t._v("提交")]),a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")])],1)],1)],1),t.showTable?a("div",{staticClass:"paginationContainer"},[a("el-pagination",{staticClass:"elPage",attrs:{background:"",layout:"prev, pager, next","page-size":10,total:t.total,"current-page":t.currentPage},on:{"current-change":t.handleCurrentChange}})],1):t._e()],1)],1)},Bt=[],zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart"},[a("el-table",{staticClass:"tableBox",attrs:{data:t.objData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"name",label:"分数区分",width:"200"}}),a("el-table-column",{attrs:{prop:"value",label:"人数",width:"180"}})],1),a("div",{ref:"Chart",staticClass:"chartContent"})],1)},Mt=[],Vt=(a("d81d"),a("fb6a"),{props:["chartData"],data:function(){return{chartInstance:null,option:{},objData:[]}},mounted:function(){this.handleData(),this.initChart(),this.updateChart(),window.addEventListener("resize",this.handleResize)},methods:{handleData:function(){var t=[0,0,0,0,0,0];this.chartData.map((function(e){var a=parseInt(e.score);a>=90?t[0]++:a>=80&&a<90?t[1]++:a>=70&&a<80?t[2]++:a>=60&&a<70?t[3]++:a>0&&a<60&&t[4]++})),t[5]=t[0]+t[1]+t[2]+t[3]+t[4],this.objData=[{value:t[0],name:"90分及以上"},{value:t[1],name:"89至80分"},{value:t[2],name:"79至70分"},{value:t[3],name:"69至60分"},{value:t[4],name:"不及格(0分不计入)"},{value:t[5],name:"总人数"}]},initChart:function(){this.chartInstance=Ct["a"](this.$refs.Chart)},updateChart:function(){this.option={title:{text:"成绩比例图",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"right",top:"bottom"},series:[{name:"Access From",type:"pie",radius:"50%",label:{normal:{color:"auto",formatter:"{b} ({d}%)",textStyle:{fontWeight:"normal",fontSize:15}}},data:this.objData.slice(0,5),emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},this.chartInstance.setOption(this.option)},handleResize:function(){this.chartInstance&&this.chartInstance.resize()}},beforeDestroy:function(){this.chartInstance&&this.chartInstance.dispose(),this.chartInstance=null,window.removeEventListener("resize",this.handleResize)}}),Rt=Vt,Gt=(a("a73f"),Object(u["a"])(Rt,zt,Mt,!1,null,"15f5ab01",null)),Jt=Gt.exports,Wt={components:{Charts:Jt},data:function(){return{tableData:[],chartData:[],currentPage:1,total:0,showTable:!0,showChart:!1,title:"图表统计",serachCondition:{school:r("userInfo")?r("userInfo").school:"",name:"",studentnumber:"",power:"学生",type:""},dialogFormVisible:!1,userForm:{}}},mounted:function(){this.scoreSearch()},methods:{changType:function(){var t=this;this.showTable=!1,this.showChart=!1,this.serachCondition.type="Chart",this.scoreSearch(),setTimeout((function(){t.serachCondition.type="Table",t.chartData=t.tableData,t.showChart=!0}),50)},editUser:function(t){this.dialogFormVisible=!0,this.userForm=Object(v["a"])({},t),2==this.userForm.power?this.userForm.power="学生":this.userForm.power="教师"},userChang:function(){var t=this;this.$axios.post("/userInfoChang",Object(v["a"])({},this.userForm)).then((function(e){var a=e.data,s=a.code,n=a.msg;200==s?(t.$message({showClose:!0,message:n,type:"success"}),t.scoreSearch(),t.dialogFormVisible=!1):t.$message({showClose:!0,message:n,type:"warning"})})).catch((function(e){t.$message({showClose:!0,message:e,type:"warning"})}))},scoreSearch:function(){var t=this;this.$axios.get("/allScore?currentPage=".concat(this.currentPage),{params:this.serachCondition}).then((function(e){var a=e.data,s=a.code,n=a.msg;200==s?(t.tableData=e.data.data,t.total=e.data.total):t.$message({showClose:!0,message:n,type:"warning"})})).catch((function(e){t.$message({showClose:!0,message:"获取数据失败: "+e,type:"warning"})}))},handleCurrentChange:function(t){this.currentPage=t,this.scoreSearch()},onSubmit:function(){this.currentPage=1,this.showTable=!0,this.showChart=!1,this.scoreSearch()},resetForm:function(t){this.showTable=!0,this.showChart=!1,this.$refs[t].resetFields(),this.currentPage=1,this.scoreSearch()}}},Ht=Wt,Kt=(a("11bb"),Object(u["a"])(Ht,Lt,Bt,!1,null,"22496142",null)),Xt=Kt.exports;s["default"].use(m["a"]);var qt=[{path:"/",redirect:"/index"},{path:"/index",name:"index",component:D},{path:"/webGlpage",name:"webGlpage",component:Pt},{path:"/ScoreMang",name:"ScoreMang",component:Xt}],Ut=new m["a"]({routes:qt});Ut.beforeEach((function(t,e,a){if("/index"==t.path&&"/webGlpage"==e.path&&location.reload(),"/index"===t.path)return a();var s=r("userInfo");if(!s)return a("/index");a()}));var Qt=Ut,Yt=a("5c96"),Zt=a.n(Yt),te=(a("0fae"),a("bc3a")),ee=a.n(te);s["default"].use(Zt.a),s["default"].config.productionTip=!1,s["default"].prototype.$axios=ee.a,ee.a.defaults.baseURL="http://localhost:3000",s["default"].prototype.$EventBus=new s["default"],s["default"].prototype.$EventBus.tableData=[{content:"查看实验相关介绍",score:10,isComplete:!1},{content:"开始实验",score:10,isComplete:!1},{content:"改变风速并观察风机情况",score:20,isComplete:!1},{content:"改变风向并观察风机情况",score:20,isComplete:!1},{content:"改变风机阵列并观察",score:10,isComplete:!1},{content:"重复上述步骤观察风机情况",score:30,isComplete:!1}],document.title="风力发电虚拟仿真系统",new s["default"]({router:Qt,render:function(t){return t(p)}}).$mount("#app")},7521:function(t,e,a){},"82f4":function(t,e,a){},"833f":function(t,e,a){},"835c":function(t,e,a){},"85ec":function(t,e,a){},a73f:function(t,e,a){"use strict";a("064f")},ab59:function(t,e,a){},abba:function(t,e,a){"use strict";a("835c")},e5f2:function(t,e,a){"use strict";a("833f")}});
//# sourceMappingURL=app.d4141eae.js.map