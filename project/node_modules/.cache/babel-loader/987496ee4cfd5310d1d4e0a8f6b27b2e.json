{"remainingRequest":"D:\\ProjectFiles\\Virtual_Project\\project\\node_modules\\babel-loader\\lib\\index.js!D:\\ProjectFiles\\Virtual_Project\\project\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\ProjectFiles\\Virtual_Project\\project\\src\\assets\\js\\TEngine.js","dependencies":[{"path":"D:\\ProjectFiles\\Virtual_Project\\project\\src\\assets\\js\\TEngine.js","mtime":1652158188089},{"path":"D:\\ProjectFiles\\Virtual_Project\\project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648463936189},{"path":"D:\\ProjectFiles\\Virtual_Project\\project\\node_modules\\babel-loader\\lib\\index.js","mtime":1648463935472},{"path":"D:\\ProjectFiles\\Virtual_Project\\project\\node_modules\\eslint-loader\\index.js","mtime":1648463938329}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOi9Qcm9qZWN0RmlsZXMvVmlydHVhbF9Qcm9qZWN0L3Byb2plY3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOi9Qcm9qZWN0RmlsZXMvVmlydHVhbF9Qcm9qZWN0L3Byb2plY3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgeyBQZXJzcGVjdGl2ZUNhbWVyYSwgU2NlbmUsIFZlY3RvcjMsIFdlYkdMUmVuZGVyZXIsIFBNUkVNR2VuZXJhdG9yLCBTcGhlcmVCdWZmZXJHZW9tZXRyeSwgTWVzaCwgTWVzaEJhc2ljTWF0ZXJpYWwsIFJlaW5oYXJkVG9uZU1hcHBpbmcgLy8gQmFja1NpZGUKfSBmcm9tICJ0aHJlZSI7CmltcG9ydCBTdGF0cyBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbGlicy9zdGF0cy5tb2R1bGUnOwppbXBvcnQgeyBPcmJpdENvbnRyb2xzIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2NvbnRyb2xzL09yYml0Q29udHJvbHMnOwppbXBvcnQgeyBFWFJMb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9FWFJMb2FkZXInOwpleHBvcnQgdmFyIFRFbmdpbmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFRFbmdpbmUoZG9tKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBURW5naW5lKTsKCiAgICB0aGlzLmRvbSA9IGRvbTsKICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXIgPSBuZXcgV2ViR0xSZW5kZXJlcih7CiAgICAgIGFudGlhbGlhczogdHJ1ZQogICAgfSk7CiAgICByZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7CiAgICB2YXIgc2NlbmUgPSBuZXcgU2NlbmUoKTsKICAgIHRoaXMuY2FtZXJhID0gbmV3IFBlcnNwZWN0aXZlQ2FtZXJhKDQ1LCBkb20ub2Zmc2V0V2lkdGggLyBkb20ub2Zmc2V0SGVpZ2h0LCAxLCAxMDAwKTsKICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnNldCgxNSwgODAsIC0xMzApOyAvLyB0aGlzLmNhbWVyYS5sb29rQXQoMCwxMCwwKQoKICAgIHRoaXMuY2FtZXJhLnVwID0gbmV3IFZlY3RvcjMoMCwgMSwgMCk7IC8vIOmjjumAnwoKICAgIHRoaXMuc3BlZWQgPSAwLjAyOyAvLyDljoblj7LovazmnLrpgJ/luqYKCiAgICB0aGlzLnNwZWVkQXJyID0gbmV3IEFycmF5KDUpLmZpbGwoMCk7IC8vIOWOhuWPsui9rOWMluaViOeOhwoKICAgIHRoaXMudHJhbnNmb3JtQXJyID0gbmV3IEFycmF5KDUpLmZpbGwoMCk7IC8vIOmjjuWQkQoKICAgIHRoaXMuYW5nbGUgPSAwOyAvLyDovazmnLrop5LluqYKCiAgICB0aGlzLmFuZ2xlNjAgPSAwOyAvLyDmiYflj7YKCiAgICB0aGlzLkZhbmJsYWRlcyA9IFtdOyAvLyDmiYfmnokKCiAgICB0aGlzLmN5bGluZGVyID0gW107IC8vIOaJh+eusQoKICAgIHRoaXMuZmFuQm94ID0gW107IC8vIOaYr+WQpuaUueWPmOmjjuacuuacneWQkQoKICAgIHRoaXMuY2hhbmdBbmdsZSA9IGZhbHNlOyAvLyDmmK/lkKblkK/liqjnlLXmnLoKCiAgICB0aGlzLm9wZW5FbGVjdHJpYyA9IGZhbHNlOyAvLyDmmK/lkKblpJrpo47mnLrlsZXnpLoKCiAgICB0aGlzLmlzU2hvdyA9IGZhbHNlOwogICAgcmVuZGVyZXIuc2V0U2l6ZShkb20ub2Zmc2V0V2lkdGgsIGRvbS5vZmZzZXRIZWlnaHQsIHRydWUpOyAvLyDliJ3lp4vmgKfog73nm5Hop4blmagKCiAgICB2YXIgc3RhdHMgPSBTdGF0cygpOwogICAgdmFyIHN0YXRzRG9tID0gc3RhdHMuZG9tRWxlbWVudDsKICAgIHN0YXRzRG9tLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsKICAgIHN0YXRzRG9tLnN0eWxlLnRvcCA9ICcwJzsKICAgIHN0YXRzRG9tLnN0eWxlLnJpZ2h0ID0gJzVweCc7CiAgICBzdGF0c0RvbS5zdHlsZS5sZWZ0ID0gJ3Vuc2V0JzsgLy8g5Yid5aeLb3JiaXRDb250cm9scwoKICAgIHZhciBvcmJpdENvbnRyb2xzID0gdGhpcy5vcmJpdENvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHModGhpcy5jYW1lcmEsIHJlbmRlcmVyLmRvbUVsZW1lbnQpOwogICAgdGhpcy5pbml0ID0gZmFsc2U7CiAgICBvcmJpdENvbnRyb2xzLnRhcmdldCA9IG5ldyBWZWN0b3IzKDAsIDEwLCAwKTsKCiAgICB2YXIgcmVuZGVyRnVuID0gZnVuY3Rpb24gcmVuZGVyRnVuKCkgewogICAgICBvcmJpdENvbnRyb2xzLnVwZGF0ZSgpOyAvLyDmiYflj7bovazliqgKCiAgICAgIGlmIChfdGhpcy5GYW5ibGFkZXMubGVuZ3RoID49IDEgJiYgX3RoaXMub3BlbkVsZWN0cmljKSB7CiAgICAgICAgX3RoaXMuRmFuYmxhZGVzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGl0ZW0ucm90YXRpb24ueiArPSBfdGhpcy5zcGVlZCAqIE1hdGguY29zKF90aGlzLmFuZ2xlIC0gX3RoaXMuYW5nbGU2MCk7CiAgICAgICAgfSk7CiAgICAgIH0gLy8g6KeS5bqm6L2s5YqoCiAgICAgIC8vIOacgOWkp+WPquiDvei9rOWKqDYw5bqmCgoKICAgICAgaWYgKF90aGlzLmNoYW5nQW5nbGUpIHsKICAgICAgICBpZiAoX3RoaXMuYW5nbGU2MCA+IF90aGlzLmFuZ2xlKSB7CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLkZhbmJsYWRlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBfdGhpcy5GYW5ibGFkZXNbaV0ucm90YXRpb24ueSArPSBNYXRoLlBJIC8gMTgwICogLTAuMTsKICAgICAgICAgICAgX3RoaXMuZmFuQm94W2ldLnJvdGF0aW9uLnkgKz0gTWF0aC5QSSAvIDE4MCAqIC0wLjE7CgogICAgICAgICAgICBpZiAoX3RoaXMuZmFuQm94W2ldLnJvdGF0aW9uLnkgPD0gTWF0aC5QSSAvIDE4MCAqIC02MCkgewogICAgICAgICAgICAgIF90aGlzLkZhbmJsYWRlc1tpXS5yb3RhdGlvbi55ID0gTWF0aC5QSSAvIDE4MCAqIC02MDsKICAgICAgICAgICAgICBfdGhpcy5mYW5Cb3hbaV0ucm90YXRpb24ueSA9IE1hdGguUEkgLyAxODAgKiAtNjA7CiAgICAgICAgICAgICAgX3RoaXMuY2hhbmdBbmdsZSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKF90aGlzLmZhbkJveFswXS5yb3RhdGlvbi55IDw9IF90aGlzLmFuZ2xlKSBfdGhpcy5jaGFuZ0FuZ2xlID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIGlmIChfdGhpcy5hbmdsZTYwIDwgX3RoaXMuYW5nbGUpIHsKICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBfdGhpcy5GYW5ibGFkZXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICAgIF90aGlzLkZhbmJsYWRlc1tfaV0ucm90YXRpb24ueSArPSBNYXRoLlBJIC8gMTgwICogMC4xOwogICAgICAgICAgICBfdGhpcy5mYW5Cb3hbX2ldLnJvdGF0aW9uLnkgKz0gTWF0aC5QSSAvIDE4MCAqIDAuMTsKCiAgICAgICAgICAgIGlmIChfdGhpcy5mYW5Cb3hbX2ldLnJvdGF0aW9uLnkgPj0gTWF0aC5QSSAvIDE4MCAqIDYwKSB7CiAgICAgICAgICAgICAgX3RoaXMuRmFuYmxhZGVzW19pXS5yb3RhdGlvbi55ID0gTWF0aC5QSSAvIDE4MCAqIDYwOwogICAgICAgICAgICAgIF90aGlzLmZhbkJveFtfaV0ucm90YXRpb24ueSA9IE1hdGguUEkgLyAxODAgKiA2MDsKICAgICAgICAgICAgICBfdGhpcy5jaGFuZ0FuZ2xlID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoX3RoaXMuZmFuQm94WzBdLnJvdGF0aW9uLnkgPj0gX3RoaXMuYW5nbGUpIF90aGlzLmNoYW5nQW5nbGUgPSBmYWxzZTsKICAgICAgICB9CgogICAgICAgIF90aGlzLmFuZ2xlNjAgPSBfdGhpcy5mYW5Cb3hbMF0ucm90YXRpb24ueTsKICAgICAgfSAvLyB0aGlzLmNhbWVyYS5wb3NpdGlvbi54ICs9IDAuMQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmNhbWVyYS5wb3NpdGlvbikKCgogICAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIF90aGlzLmNhbWVyYSk7CiAgICAgIHN0YXRzLnVwZGF0ZSgpOwogICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyRnVuKTsKICAgIH07CgogICAgcmVuZGVyRnVuKCk7CiAgICBkb20uYXBwZW5kQ2hpbGQocmVuZGVyZXIuZG9tRWxlbWVudCk7CiAgICBkb20uYXBwZW5kQ2hpbGQoc3RhdHNEb20pOwogICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyOwogICAgdGhpcy5zY2VuZSA9IHNjZW5lOwogICAgdmFyIHBtcmVtR2VuZXJhdG9yID0gbmV3IFBNUkVNR2VuZXJhdG9yKHRoaXMucmVuZGVyZXIpOyAvLyDkvb/nlKhoZHLkvZzkuLrog4zmma/oibIKCiAgICBwbXJlbUdlbmVyYXRvci5jb21waWxlRXF1aXJlY3Rhbmd1bGFyU2hhZGVyKCk7CiAgICBuZXcgRVhSTG9hZGVyKCkubG9hZCgnL091dGRvb3JIRFJJMDE5XzRLLUhEUi5leHInLCBmdW5jdGlvbiAodGV4dHVyZSkgewogICAgICB2YXIgbWF0ZXJpYWwgPSBuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoewogICAgICAgIG1hcDogdGV4dHVyZQogICAgICB9KTsKICAgICAgdmFyIGdlbyA9IG5ldyBTcGhlcmVCdWZmZXJHZW9tZXRyeSgzMDApOyAvL+WPjei9rOeQg++8jOS9v+i0tOWbvui0tOWcqOeQg+WGheS+p+iAjOS4jeWcqOWkluS+pwoKICAgICAgZ2VvLnNjYWxlKC0xLCAxLCAxKTsKICAgICAgdmFyIG1lc2ggPSBuZXcgTWVzaChnZW8sIG1hdGVyaWFsKTsKICAgICAgc2NlbmUuYWRkKG1lc2gpOwogICAgfSk7CiAgICByZW5kZXJlci50b25lTWFwcGluZyA9IFJlaW5oYXJkVG9uZU1hcHBpbmc7CiAgICByZW5kZXJlci50b25lTWFwcGluZ0V4cG9zdXJlID0gMzsKICB9CgogIF9jcmVhdGVDbGFzcyhURW5naW5lLCBbewogICAga2V5OiAiYWRkT2JqZWN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRPYmplY3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG9iamVjdCA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgICBvYmplY3RbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICAgIH0KCiAgICAgIG9iamVjdC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgX3RoaXMyLnNjZW5lLmFkZChlbGVtKTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVEVuZ2luZTsKfSgpOw=="},{"version":3,"sources":["D:/ProjectFiles/Virtual_Project/project/src/assets/js/TEngine.js"],"names":["PerspectiveCamera","Scene","Vector3","WebGLRenderer","PMREMGenerator","SphereBufferGeometry","Mesh","MeshBasicMaterial","ReinhardToneMapping","Stats","OrbitControls","EXRLoader","TEngine","dom","renderer","antialias","shadowMap","enabled","scene","camera","offsetWidth","offsetHeight","position","set","up","speed","speedArr","Array","fill","transformArr","angle","angle60","Fanblades","cylinder","fanBox","changAngle","openElectric","isShow","setSize","stats","statsDom","domElement","style","top","right","left","orbitControls","init","target","renderFun","update","length","forEach","item","rotation","z","Math","cos","i","y","PI","render","requestAnimationFrame","appendChild","pmremGenerator","compileEquirectangularShader","load","texture","material","map","geo","scale","mesh","add","toneMapping","toneMappingExposure","object","elem"],"mappings":"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","sourcesContent":["import {\r\n\r\n  PerspectiveCamera,\r\n  Scene,\r\n  Vector3,\r\n  WebGLRenderer,\r\n  PMREMGenerator,\r\n  SphereBufferGeometry,\r\n  Mesh,\r\n  MeshBasicMaterial,\r\n  ReinhardToneMapping,\r\n  // BackSide\r\n} from \"three\"\r\n\r\nimport Stats from 'three/examples/jsm/libs/stats.module'\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls'\r\nimport { EXRLoader } from 'three/examples/jsm/loaders/EXRLoader';\r\n\r\nexport class TEngine {\r\n\r\n  constructor(dom) {\r\n    this.dom = dom\r\n    const renderer = this.renderer = new WebGLRenderer({\r\n      antialias: true\r\n    })\r\n\r\n    renderer.shadowMap.enabled = true\r\n\r\n    const scene = new Scene()\r\n    this.camera = new PerspectiveCamera(45, dom.offsetWidth / dom.offsetHeight, 1, 1000)\r\n\r\n    this.camera.position.set(15, 80, -130)\r\n    // this.camera.lookAt(0,10,0)\r\n    this.camera.up = new Vector3(0, 1, 0)\r\n\r\n    // 风速\r\n    this.speed = 0.02\r\n    // 历史转机速度\r\n    this.speedArr = new Array(5).fill(0)\r\n    // 历史转化效率\r\n    this.transformArr = new Array(5).fill(0)\r\n    // 风向\r\n    this.angle = 0\r\n    // 转机角度\r\n    this.angle60 = 0\r\n    // 扇叶\r\n    this.Fanblades = []\r\n    // 扇枉\r\n    this.cylinder = []\r\n    // 扇箱\r\n    this.fanBox = []\r\n    // 是否改变风机朝向\r\n    this.changAngle = false\r\n    // 是否启动电机\r\n    this.openElectric = false\r\n    // 是否多风机展示\r\n    this.isShow = false\r\n\r\n    renderer.setSize(dom.offsetWidth, dom.offsetHeight, true)\r\n\r\n    // 初始性能监视器\r\n    const stats = Stats()\r\n    const statsDom = stats.domElement\r\n    statsDom.style.position = 'fixed'\r\n    statsDom.style.top = '0'\r\n    statsDom.style.right = '5px'\r\n    statsDom.style.left = 'unset'\r\n\r\n    // 初始orbitControls\r\n    let orbitControls =this.orbitControls= new OrbitControls(this.camera, renderer.domElement)\r\n    this.init = false\r\n    orbitControls.target = new Vector3(0,10,0);\r\n\r\n    const renderFun = () => {\r\n      orbitControls.update()\r\n\r\n      // 扇叶转动\r\n      if (this.Fanblades.length >= 1 && this.openElectric) {\r\n        this.Fanblades.forEach((item) => {\r\n          item.rotation.z += this.speed * Math.cos(this.angle - this.angle60)\r\n        })\r\n      }\r\n      // 角度转动\r\n      // 最大只能转动60度\r\n      if (this.changAngle) {\r\n        if (this.angle60 > this.angle) {\r\n          for (let i = 0; i < this.Fanblades.length; i++) {\r\n            this.Fanblades[i].rotation.y += Math.PI / 180 * -0.1\r\n            this.fanBox[i].rotation.y += Math.PI / 180 * -0.1\r\n            if (this.fanBox[i].rotation.y <= Math.PI / 180 * -60) {\r\n              this.Fanblades[i].rotation.y = Math.PI / 180 * -60\r\n              this.fanBox[i].rotation.y = Math.PI / 180 * -60\r\n              this.changAngle = false\r\n            }\r\n          }\r\n          if (this.fanBox[0].rotation.y <= this.angle) this.changAngle = false\r\n        } else if (this.angle60 < this.angle) {\r\n          for (let i = 0; i < this.Fanblades.length; i++) {\r\n            this.Fanblades[i].rotation.y += Math.PI / 180 * 0.1\r\n            this.fanBox[i].rotation.y += Math.PI / 180 * 0.1\r\n            if (this.fanBox[i].rotation.y >= Math.PI / 180 * 60) {\r\n              this.Fanblades[i].rotation.y = Math.PI / 180 * 60\r\n              this.fanBox[i].rotation.y = Math.PI / 180 * 60\r\n              this.changAngle = false\r\n            }\r\n          }\r\n          if (this.fanBox[0].rotation.y >= this.angle) this.changAngle = false\r\n        }\r\n        this.angle60 = this.fanBox[0].rotation.y\r\n      }\r\n      // this.camera.position.x += 0.1\r\n      // console.log(this.camera.position)\r\n      renderer.render(scene, this.camera)\r\n      stats.update()\r\n      requestAnimationFrame(renderFun)\r\n    }\r\n\r\n    renderFun()\r\n\r\n    dom.appendChild(renderer.domElement)\r\n    dom.appendChild(statsDom)\r\n\r\n\r\n    this.renderer = renderer\r\n    this.scene = scene\r\n    \r\n    const pmremGenerator = new PMREMGenerator(this.renderer); // 使用hdr作为背景色\r\n    pmremGenerator.compileEquirectangularShader();\r\n    new EXRLoader()\r\n      .load('/OutdoorHDRI019_4K-HDR.exr', function (texture) {\r\n        var material = new MeshBasicMaterial({\r\n          map: texture,\r\n        });\r\n        var geo = new SphereBufferGeometry(300);\r\n        //反转球，使贴图贴在球内侧而不在外侧\r\n        geo.scale(-1, 1, 1);\r\n        var mesh = new Mesh(geo, material);\r\n        \r\n        scene.add(mesh)\r\n      });\r\n      renderer.toneMapping = ReinhardToneMapping;\r\n      renderer.toneMappingExposure = 3;\r\n  }\r\n\r\n  addObject(...object) {\r\n    object.forEach(elem => {\r\n      this.scene.add(elem)\r\n    })\r\n  }\r\n}"]}]}