{"remainingRequest":"D:\\ProjectFiles\\Virtual_Project\\project\\node_modules\\thread-loader\\dist\\cjs.js!D:\\ProjectFiles\\Virtual_Project\\project\\node_modules\\babel-loader\\lib\\index.js!D:\\ProjectFiles\\Virtual_Project\\project\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\ProjectFiles\\Virtual_Project\\project\\src\\assets\\js\\utils.js","dependencies":[{"path":"D:\\ProjectFiles\\Virtual_Project\\project\\src\\assets\\js\\utils.js","mtime":1654047032669},{"path":"D:\\ProjectFiles\\Virtual_Project\\project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648463936189},{"path":"D:\\ProjectFiles\\Virtual_Project\\project\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1648463942479},{"path":"D:\\ProjectFiles\\Virtual_Project\\project\\node_modules\\babel-loader\\lib\\index.js","mtime":1648463935472},{"path":"D:\\ProjectFiles\\Virtual_Project\\project\\node_modules\\eslint-loader\\index.js","mtime":1648463938329}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8g5rex5ou36LSdCmV4cG9ydCB2YXIgZGVlcCA9IGZ1bmN0aW9uIGRlZXAob2JqKSB7CiAgaWYgKG9iaiA9PT0gbnVsbCkgcmV0dXJuIG9iajsKICBpZiAob2JqLmNvbnN0cnVjdG9yICE9IE9iamVjdCkgcmV0dXJuIG9iajsKICB2YXIgbmV3T2JqID0gbmV3IG9iai5jb25zdHJ1Y3RvcigpOwoKICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICBuZXdPYmoua2V5ID0gZGVlcChvYmoua2V5KTsKICAgIH0KICB9CgogIHJldHVybiBuZXdPYmo7Cn07IC8vIOS9jee9ruenu+WKqAoKZXhwb3J0IHZhciBzZXRJbnRlckNhbWVyYSA9IGZ1bmN0aW9uIHNldEludGVyQ2FtZXJhKHgsIHksIHosIG9iaikgewogIC8vIG9iai5wb3NpdGlvbi5zZXQoMjAsIDUwLCAtNTApCiAgdmFyIHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgb2JqLnBvc2l0aW9uLnggKz0gb2JqLnBvc2l0aW9uLnggPCB4ID8gMTAgOiAwOwogICAgb2JqLnBvc2l0aW9uLnkgKz0gb2JqLnBvc2l0aW9uLnkgPCB5ID8gNSA6IDA7CiAgICBvYmoucG9zaXRpb24ueiArPSBvYmoucG9zaXRpb24ueiA+IHogPyAtOCA6IDA7CgogICAgaWYgKG9iai5wb3NpdGlvbi54ID49IHggJiYgb2JqLnBvc2l0aW9uLnkgPj0geSAmJiBvYmoucG9zaXRpb24ueiA8PSB6KSB7CiAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpOwogICAgfQogIH0sIDYwKTsKfTsgLy8g5pu05paw6L2s5py66YCf5bqmCgpleHBvcnQgdmFyIHVwZGF0ZVNwZWVkID0gZnVuY3Rpb24gdXBkYXRlU3BlZWQoVEUpIHsKICB2YXIgbnVtMiA9IDAsCiAgICAgIG51bTEgPSAwOwogIHZhciB0ZW1wOwogIHZhciB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgIHRlbXAgPSBURS5zcGVlZCAqIE1hdGguY29zKFRFLmFuZ2xlIC0gVEUuYW5nbGU2MCk7CiAgICBudW0yKys7CgogICAgaWYgKG51bTIgPj0gMTApIHsKICAgICAgbnVtMiA9IDA7CiAgICAgIGlmICh0ZW1wLnRvRml4ZWQoNCkgKiAyMDAgPT0gVEUuc3BlZWRBcnJbVEUuc3BlZWRBcnIubGVuZ3RoIC0gMV0pIG51bTErKztlbHNlIHsKICAgICAgICBudW0xID0gMDsKICAgICAgfQoKICAgICAgaWYgKG51bTEgPD0gNSkgewogICAgICAgIFRFLnNwZWVkQXJyLnB1c2godGVtcC50b0ZpeGVkKDQpICogMjAwKTsKICAgICAgICBURS50cmFuc2Zvcm1BcnIucHVzaChNYXRoLmFicyhNYXRoLmNvcyhURS5hbmdsZSAtIFRFLmFuZ2xlNjApLnRvRml4ZWQoMikgKiAxMDAgLSAzMCkpOwogICAgICB9IGVsc2UgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpOwogICAgICB9IC8vIGlmIChURS5zcGVlZEFyci5sZW5ndGggPj0gMzApIHsKICAgICAgLy8gICBURS5zcGVlZEFyci5zaGlmdCgpCiAgICAgIC8vICAgVEUudHJhbnNmb3JtQXJyLnNoaWZ0KCkKICAgICAgLy8gfQoKICAgIH0KICB9LCAxMDApOwp9OyAvLyDpmLLmipYKCmV4cG9ydCB2YXIgZGVib3VuY2UgPSBmdW5jdGlvbiBkZWJvdW5jZShmbiwgZGVsYXkpIHsKICB2YXIgdGltZXIgPSBudWxsOwogIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGltZXIpIHsKICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTsgLy8g5aaC5p6c6K6h5pe25Zmo5a2Y5Zyo77yM5riF6Zmk6K6h5pe25ZmoCiAgICB9CgogICAgdGltZXIgPSBzZXRUaW1lb3V0KGZuLCBkZWxheSk7IC8vIOmHjeaWsOW8gOWni+iuoeaXtgogIH07Cn07IC8vIOS/ruaUueaIkOe7qQoKZXhwb3J0IHZhciBwdXRTY29yZSA9IGZ1bmN0aW9uIHB1dFNjb3JlKG9iaiwgQ2FsbGJhY2spIHsKICBvYmouZ2V0KCIvY2hhbmdTY29yZT91c2VyX2lkPSIuY29uY2F0KGdldFN0b3JhZ2UoInVzZXJJbmZvIikuaWQsICImc2NvcmU9IikuY29uY2F0KGdldFN0b3JhZ2UoInNjb3JlIikpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgIHZhciBjb2RlID0gcmVzLmRhdGEuY29kZTsKCiAgICBpZiAoY29kZSA9PSAyMDApIHsKICAgICAgQ2FsbGJhY2soKTsKICAgIH0KICB9KTsKfTsgLy8gc3RvcmFnZQoKZXhwb3J0IHZhciBzZXRTdG9yYWdlID0gZnVuY3Rpb24gc2V0U3RvcmFnZShrZXksIHZhbHVlLCBleHBpcmUpIHsKICB2YXIgb2JqID0gewogICAgZGF0YTogdmFsdWUsCiAgICB0aW1lOiBEYXRlLm5vdygpLAogICAgLy8g6L6T5YWl5aSp5pWw77yM5L+d5a2Y5Li656eS5pWwCiAgICBleHBpcmU6IGV4cGlyZSAqIDYwICogNjAgKiAyNCAqIDEwMDAKICB9OwogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkob2JqKSk7Cn07CmV4cG9ydCB2YXIgZ2V0U3RvcmFnZSA9IGZ1bmN0aW9uIGdldFN0b3JhZ2Uoa2V5KSB7CiAgdmFyIG9iaiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7CiAgaWYgKCFvYmopIHJldHVybiBmYWxzZTsKICBvYmogPSBKU09OLnBhcnNlKG9iaik7CgogIGlmIChEYXRlLm5vdygpIC0gb2JqLnRpbWUgPiBvYmouZXhwaXJlKSB7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpOwogICAgcmV0dXJuIG51bGw7CiAgfQoKICByZXR1cm4gb2JqLmRhdGE7Cn07"},{"version":3,"sources":["D:/ProjectFiles/Virtual_Project/project/src/assets/js/utils.js"],"names":["deep","obj","constructor","Object","newObj","key","prototype","hasOwnProperty","call","setInterCamera","x","y","z","timer","setInterval","position","clearInterval","updateSpeed","TE","num2","num1","temp","speed","Math","cos","angle","angle60","toFixed","speedArr","length","push","transformArr","abs","debounce","fn","delay","clearTimeout","setTimeout","putScore","Callback","get","getStorage","id","then","res","code","data","setStorage","value","expire","time","Date","now","localStorage","setItem","JSON","stringify","getItem","parse","removeItem"],"mappings":"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","sourcesContent":["// 深拷贝\r\nexport const deep = (obj) => {\r\n  if (obj === null) return obj;\r\n  if (obj.constructor != Object) return obj;\r\n  let newObj = new obj.constructor();\r\n  for (let key in obj) {\r\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n      newObj.key = deep(obj.key);\r\n    }\r\n  }\r\n  return newObj;\r\n}\r\n\r\n// 位置移动\r\nexport const setInterCamera = (x, y, z, obj) => {\r\n  // obj.position.set(20, 50, -50)\r\n  let timer = setInterval(() => {\r\n    obj.position.x += obj.position.x < x ? 10 : 0\r\n    obj.position.y += obj.position.y < y ? 5 : 0\r\n    obj.position.z += obj.position.z > z ? -8 : 0\r\n    if (obj.position.x >= x && obj.position.y >= y && obj.position.z <= z) {\r\n      clearInterval(timer)\r\n    }\r\n  }, 60)\r\n}\r\n// 更新转机速度\r\nexport const updateSpeed = (TE) =>{\r\n  let num2 = 0,num1 = 0\r\n  let temp\r\n  let timer = setInterval(() => {\r\n    temp = TE.speed * Math.cos(TE.angle - TE.angle60)\r\n    num2 ++\r\n    if (num2>=10) {\r\n      num2 = 0\r\n      if (temp.toFixed(4) * 200 == (TE.speedArr[TE.speedArr.length - 1])) num1++\r\n      else {\r\n        num1 = 0\r\n      }\r\n      if (num1 <= 5) {\r\n        TE.speedArr.push(temp.toFixed(4) * 200)\r\n        TE.transformArr.push(Math.abs(Math.cos(TE.angle - TE.angle60).toFixed(2)*100-30))\r\n      }else{\r\n        clearInterval(timer)\r\n      }\r\n      // if (TE.speedArr.length >= 30) {\r\n      //   TE.speedArr.shift()\r\n      //   TE.transformArr.shift()\r\n      // }\r\n    }\r\n  }, 100);\r\n}\r\n// 防抖\r\nexport const debounce = (fn, delay) => {\r\n  let timer = null;\r\n  return function () {\r\n    if (timer) {\r\n      clearTimeout(timer); // 如果计时器存在，清除计时器\r\n    }\r\n    timer = setTimeout(fn, delay); // 重新开始计时\r\n  };\r\n}\r\n// 修改成绩\r\nexport const putScore = (obj,Callback)=>{\r\n  obj\r\n  .get(`/changScore?user_id=${getStorage(\"userInfo\").id}&score=${getStorage(\"score\")}`)\r\n  .then((res) => {\r\n    let { code } = res.data;\r\n    if (code == 200) {\r\n      Callback()\r\n    }\r\n  })\r\n}\r\n// storage\r\nexport let setStorage = (key, value, expire) => {\r\n  let obj = {\r\n      data: value,\r\n      time: Date.now(),\r\n      // 输入天数，保存为秒数\r\n      expire: expire * 60 * 60 * 24 * 1000\r\n  }\r\n  localStorage.setItem(key, JSON.stringify(obj))\r\n}\r\nexport let getStorage = (key) => {\r\n  let obj = localStorage.getItem(key)\r\n  if(!obj)return false\r\n  obj = JSON.parse(obj)\r\n  if (Date.now() - obj.time > obj.expire) {\r\n      localStorage.removeItem(key);\r\n      return null;\r\n  }\r\n  return obj.data;\r\n}"]}]}